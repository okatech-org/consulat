// Dans schema.prisma

// Table pour stocker les conversations
model Conversation {
  id          String   @id @default(cuid())
  question    String
  answer      String   @db.Text
  userId      String?
  domain      String
  confidence  Float
  helpful     Boolean?
  timestamp   DateTime @default(now())
  
  // Relations
  user        User?    @relation(fields: [userId], references: [id])
}

// Table pour la base de connaissances enrichie
model KnowledgeBase {
  id          String   @id @default(cuid())
  pattern     String   @unique
  response    String   @db.Text
  domains     String[] // Stock√© comme JSON
  confidence  Float
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

// Table pour les statistiques d'apprentissage
model LearningStats {
  id              String   @id @default(cuid())
  domainName      String
  questionCount   Int
  avgConfidence   Float
  lastUpdated     DateTime @default(now())
}
