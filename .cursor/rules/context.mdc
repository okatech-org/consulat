---
description: Context Management and Data Access
globs: 
---
 ---
description: 
globs: src/contexts/**/*.tsx, src/hooks/use-*context.ts
---
Server Context:
- Use headers() for request data
- Access cookies with cookies()
- Get searchParams from props
- Use generateMetadata for SEO
- Handle dynamic params properly

Authentication Context:
- Use auth() for server components
- Access session with useSession()
- Get current user with useCurrentUser()
- Handle loading states
- Implement proper error states

Route Context:
- Access params from layout/page props
- Use useParams() for client components
- Handle dynamic segments
- Access searchParams properly
- Maintain type safety

Data Context:
- Use React Query for server state
- Implement Zustand for client state
- Create focused context providers
- Handle loading and error states
- Follow proper cache patterns

Best Practices:
- Keep contexts small and focused
- Use composition over deep nesting
- Implement proper TypeScript types
- Handle edge cases and errors
- Document context requirements