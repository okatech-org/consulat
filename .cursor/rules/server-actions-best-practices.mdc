---
description: Best practices for implementing server actions in Next.js applications
globs: 
alwaysApply: true
---
# Server Actions Best Practices

Core Principles

1.  TryCatch Wrapper is required

    *   Every server action must be wrapped with the **tryCatch** utility function from **@/lib/utils**

    *   Ensures consistent error handling and type safety

    *   Provides predictable response structure

2.  Type Safety

    *   Use TypeScript types for all inputs and outputs

    *   Leverage Zod schemas for runtime validation

    *   Define explicit return types for server actions

3.  Error Handling

    *   Handle both success and error cases explicitly

    *   Log errors appropriately

    *   Return typed error responses to the client

Implementation Pattern

```typescript
import { tryCatch } from '@/lib/utils';

async function serverAction(input: InputType): Promise<OutputType> {
  const { error, data } = await tryCatch(async () => {
    // Your logic here
    return result;
  });

  if (error) {
    console.error('Action failed:', error);
    throw error;
  }
  return data;
}